<script>
  // Edit this list.
  const apps = [
    {
      name: "Builder Responsive Export",
      repo: "builder-responsive-export",
      url: "https://guymanndude.github.io/builder-responsive-export/",
      desc: "Responsive builder export demo (Vite)."
    },
    {
      name: "Themed Page Builder",
      repo: "themed-page-builder",
      url: "https://guymanndude.github.io/themed-page-builder/",
      desc: "Themeable page builder (Vite + Router)."
    },
    {
      name: "Chatbox Reader",
      repo: "chatbox-reader",
      url: "https://guymanndude.github.io/chatbox-reader/",
      desc: "Paste -> speak/read tool (Vite)"
    }
    // You can add more entries here.
  ];

  const list = document.getElementById("list");
  const empty = document.getElementById("empty");
  const q = document.getElementById("q");

  function render(filter = "") {
    list.innerHTML = "";
    const f = filter.trim().toLowerCase();
    const filtered = apps.filter(a =>
      !f ||
      a.name.toLowerCase().includes(f) ||
      a.repo.toLowerCase().includes(f) ||
      a.desc.toLowerCase().includes(f)
    );
    empty.hidden = filtered.length !== 0;
    filtered.forEach(a => {
      const card = document.createElement("article");
      card.className = "card";
      card.innerHTML = `
        <div class="row">
          <div class="name">${a.name}</div>
          <div class="spacer"></div>
          <span class="pill">${a.repo}</span>
        </div>
        <div class="desc">${a.desc || ""}</div>
        <div class="row">
          <a class="cta" href="${a.url}" target="_blank" rel="noopener noreferrer">
            <button class="cta">Open</button>
          </a>
          <button data-copy="${a.url}">Copy link</button>
        </div>
      `;
      list.appendChild(card);
    });
  }

  q.addEventListener("input", () => render(q.value));

  document.addEventListener("click", (e) => {
    const t = e.target.closest("button[data-copy]");
    if (!t) return;
    const url = t.getAttribute("data-copy");
    navigator.clipboard.writeText(url).then(() => {
      t.textContent = "Copied!";
      setTimeout(() => (t.textContent = "Copy link"), 900);
    });
  });

  document.getElementById("copy").addEventListener("click", () => {
    const lines = apps.map(a => `- ${a.name}: ${a.url}`).join("\n");
    navigator.clipboard.writeText(lines).then(() => {
      const btn = document.getElementById("copy");
      btn.textContent = "Copied list!";
      setTimeout(() => (btn.textContent = "Copy links"), 900);
    });
  });

  render();
</script>

